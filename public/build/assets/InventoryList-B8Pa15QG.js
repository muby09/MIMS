import{_ as T,m as f,q as R,A as P,h as U,o as g,c as w,b as e,e as G,a as o,w as h,j as L,n as E,B as H,C as J,D as K,y as x,d as W,z as X,r as j,F as A,E as Y,t as p}from"./app-0OmGpnaL.js";import{_ as Z}from"./PaginationLink-ZioMAp3l.js";import{M as ee,f as te}from"./MainLayout-DPD0jtny.js";import{d as se}from"./index-Z0hQPt1I.js";import{_ as B}from"./Modal-yi_1a1a_.js";import{_ as k,a as V,b as y}from"./TextInput-B1LRD290.js";import{_ as oe}from"./Select-lbWUQyQh.js";import"./NavLink-CruCK85a.js";import"./ApplicationLogo-D469ArIg.js";const le={class:"relative inline-block text-left"},ae={__name:"DropdownMenu",props:{align:{type:String,default:"right"},width:{type:String,default:"78"},contentClasses:{type:String,default:"py-1 bg-white"}},setup(v){const i=f(!1),b=()=>{i.value=!i.value},d=v,m=()=>{i.value&&(i.value=!1)};R(()=>document.addEventListener("keydown",m)),P(()=>document.removeEventListener("keydown",m));const C=U(()=>d.align==="left"?"ltr:origin-top-left rtl:origin-top-right start-0":d.align==="right"?"ltr:origin-top-right rtl:origin-top-left end-0":"origin-top"),_=U(()=>({66:"w-88"})[d.width.toString()]);return(n,c)=>(g(),w("div",le,[e("div",null,[e("button",{onClick:b,type:"button",class:"inline-flex justify-center w-full rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none",id:"menu-button","aria-expanded":"true","aria-haspopup":"true"},c[1]||(c[1]=[G(" Options "),e("svg",{class:"-mr-1 ml-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.293l3.71-3.07a.75.75 0 111.06 1.036l-4 3.3a.75.75 0 01-1.06 0l-4-3.3a.75.75 0 01.02-1.06z","clip-rule":"evenodd"})],-1)]))]),o(K,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:h(()=>[L(e("div",{class:E(["absolute z-50 mt-1 rounded-md shadow-lg",[_.value,C.value]]),style:{display:"none"},onClick:c[0]||(c[0]=q=>i.value=!1)},[e("div",{class:E(["rounded-md ring-1 ring-black ring-opacity-5",v.contentClasses])},[H(n.$slots,"content",{},void 0,!0)],2)],2),[[J,i.value]])]),_:3})]))}},ne=T(ae,[["__scopeId","data-v-4839111b"]]),ie={class:"p-3"},re={action:"",class:"px-4 py-2"},de={class:"grid grid-cols-2 gap-2"},me={class:"flex justify-between mt-1"},ue={class:"item-center place-items-center pt-3"},ce=["onClick"],pe={action:"",class:"px-4 py-2"},fe={class:"flex justify-between mt-1"},ge={class:"flex justify-between mt-1"},ve={class:"flex justify-between mt-1"},be={class:"overflow-auto rounded-lg shadow"},ye={class:"w-full"},we={class:"bg-gray-50 border-b-2 border-gray-200"},he={width:"5%",class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},_e={class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},xe={class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},ke={class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},Ce={class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},Ie={class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},Ve={class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},qe=["onClick"],Qe={__name:"InventoryList",props:{lists:Array},setup(v){const{transformValidationErrors:i}=te(),b=f(!1),d=f(!1),m=()=>{Q(),b.value=!1,d.value=!1},C=t=>{n.value.item_pid=t.item_pid,n.value.qnt=t.quantity,d.value=!0},_=f({}),n=f({item_pid:"",cause:"",date:"",qnt:0,quantity:0});c();function c(){x.dispatch("loadDropdown","item-names").then(({data:t})=>{_.value=t}).catch(t=>{console.log(t)})}const q=t=>{se.Inertia.get(t,{},{preserveState:!0,preserveScroll:!0})},a=f({items:[{item_pid:"",quantity:""}],errors:{}}),Q=()=>{a.value={items:[{item_pid:"",quantity:""}],errors:{}}},z=()=>{a.value.items.push({item_pid:"",quantity:""})},F=t=>{if(a.value.items.length===1){x.commit("notify",{message:"One Item is required to proceed",type:"warning"});return}a.value.items.splice(t,1)},N=()=>{a.errors={},x.dispatch("postMethod",{url:"/add-inventory-item",param:a.value}).then(t=>{(t==null?void 0:t.status)==422?a.value.errors=i(t.data):(t==null?void 0:t.status)==201&&m()}).catch(t=>{console.log(t)})},O=()=>{a.errors={},x.dispatch("postMethod",{url:"/remove-damage-item",param:n.value}).then(t=>{(t==null?void 0:t.status)==422?a.value.errors=i(t.data):(t==null?void 0:t.status)==201&&m()}).catch(t=>{console.log(t)})};return(t,s)=>{const I=X("font-awesome-icon");return g(),W(ee,null,{default:h(()=>{var S;return[e("div",ie,[o(B,{show:b.value,onClose:m,title:"Add Item Quantity ",onSubmit:N},{default:h(()=>[e("form",re,[(g(!0),w(A,null,j(a.value.items,(l,r)=>(g(),w("div",{class:"",key:r},[e("div",de,[e("div",null,[o(oe,{modelValue:l.item_pid,"onUpdate:modelValue":u=>l.item_pid=u,label:"Item name",placeholder:"Select item",options:_.value},null,8,["modelValue","onUpdate:modelValue","options"]),o(y,{class:"mt-2",message:a.value.errors.feeder},null,8,["message"])]),e("div",null,[o(k,{for:"feeder",value:"Item Quantity"}),e("div",me,[o(V,{id:"feeder33",type:"text",class:"mt-1 block w-full",modelValue:l.quantity,"onUpdate:modelValue":u=>l.quantity=u,required:"",placeholder:"e.g 120"},null,8,["modelValue","onUpdate:modelValue"]),e("div",ue,[e("button",{class:"bg-yellow-500 text-white btn-sm",type:"button",onClick:u=>F(r)},[o(I,{icon:"fa-solid fa-minus-circle"})],8,ce)])]),o(y,{class:"mt-2",message:a.value.errors.feeder},null,8,["message"])])])]))),128)),e("button",{class:"bg-blue-500 text-white btn-sm mt-1",type:"button",onClick:z},[o(I,{icon:"fa-solid fa-plus-circle"})])])]),_:1},8,["show"]),o(B,{show:d.value,onClose:m,"max-width":"sm",title:"Remove Damage Item ",onSubmit:O},{default:h(()=>[e("form",pe,[e("div",null,[o(k,{for:"feeder",value:"Item Quantity"}),e("div",fe,[o(V,{id:"feeder33",type:"text",class:"mt-1 block w-full",modelValue:n.value.quantity,"onUpdate:modelValue":s[0]||(s[0]=l=>n.value.quantity=l),required:"",placeholder:"e.g 120"},null,8,["modelValue"])]),o(y,{class:"mt-2",message:a.value.errors.quantity},null,8,["message"])]),e("div",null,[o(k,{for:"feeder",value:"Item Quantity"}),e("div",ge,[o(V,{id:"feeder33",type:"date",class:"mt-1 block w-full",modelValue:n.value.date,"onUpdate:modelValue":s[1]||(s[1]=l=>n.value.date=l)},null,8,["modelValue"])]),o(y,{class:"mt-2",message:a.value.errors.date},null,8,["message"])]),e("div",null,[o(k,{for:"feeder",value:"Cause of Damage"}),e("div",ve,[L(e("textarea",{id:"feeder33",type:"text",class:"mt-1 block w-full","onUpdate:modelValue":s[2]||(s[2]=l=>n.value.cause=l),required:"",placeholder:"e.g tamper"},null,512),[[Y,n.value.cause]])]),o(y,{class:"mt-2",message:a.value.errors.feeder},null,8,["message"])])])]),_:1},8,["show"]),e("button",{onClick:s[3]||(s[3]=l=>b.value=!0),class:"bg-optimal text-white p-1 mb-2 rounded"},"Add Item")]),e("div",be,[e("table",ye,[e("thead",we,[e("tr",null,[s[5]||(s[5]=e("th",{width:"5%",class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},"S/N",-1)),s[6]||(s[6]=e("th",{class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},"Region ",-1)),s[7]||(s[7]=e("th",{class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},"Item",-1)),s[8]||(s[8]=e("th",{class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},"description",-1)),s[9]||(s[9]=e("th",{class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},"Quantity",-1)),e("th",he,[o(I,{class:"fa-solid fas fa-cog"})])])]),e("tbody",null,[(g(!0),w(A,null,j((S=v.lists)==null?void 0:S.data,(l,r)=>{var u,$,M,D;return g(),w("tr",{class:"bg-white",key:r},[e("td",_e,p(r+1),1),e("td",xe,p((u=l.region)==null?void 0:u.name),1),e("td",ke,p(($=l.item)==null?void 0:$.name),1),e("td",Ce,p((M=l.item)==null?void 0:M.description),1),e("td",Ie,p(l.quantity)+" "+p((D=l.item)==null?void 0:D.unit),1),e("td",Ve,[o(ne,{align:"right",width:"88"},{content:h(()=>s[10]||(s[10]=[e("div",{class:"py-1",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu"},[e("a",{href:"#",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem"},"Account settings"),e("a",{href:"#",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem"},"Support"),e("a",{href:"#",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem"},"Sign out")],-1)])),_:1}),e("button",{class:"p-1 oy-1 text-sm bg-yellow-500 text-white me-2 inline-block",onClick:Se=>C(l)},"Mark",8,qe)])])}),128))])]),e("div",null,[o(Z,{onAction:s[4]||(s[4]=l=>{var r;return q((r=v.lists)==null?void 0:r.next_page_url)}),pages:t.links},null,8,["pages"])])])]}),_:1})}}};export{Qe as default};
