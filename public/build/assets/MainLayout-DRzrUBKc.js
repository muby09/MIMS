import{_ as C,a as B,b as q}from"./NavLink-wvJT17fE.js";import{_ as S,l as L,o as g,c as b,a as s,w as l,b as a,u as d,Z as N,I as A,e as w,t as M,d as $,g as c,v as P,Q as E,x as I,i as f,n as u,p as z,y as U}from"./app-47eZIH9d.js";import{_ as D}from"./Modal-CDJbh8fK.js";import{_,a as x,b as k}from"./TextInput-BbzKYzhg.js";import{F,_ as O}from"./Flash-C7UQqTIL.js";import{A as R}from"./ApplicationLogo-5aoSP3tF.js";function T(){function y(t,o="axios"){const e=[];if(o=="axios"&&t)for(let r in t){if(r.indexOf(".")!==-1){let n=m(r);e[n]=t[r][0]}else e[r]=t[r][0];e[r]=t[r][0]}return e}function m(t){const o=t.split(".").filter(r=>r),e=t.split(".").filter(r=>!isNaN(r));return o[2]+e.map(Number)}return{transformValidationErrors:y}}const H={action:"",class:"px-4 py-2"},j={class:"bg-[#f1f1f1] border-b border-gray-100"},K={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Q={class:"flex justify-between h-11"},W={class:"flex"},Z={class:"mt-3 block md:hidden relative bg-optimal px-4 rounded-md text-white z-200",id:"toggleSideBar"},G={class:"hidden space-x-8 sm:-my-px sm:ms-10 sm:flex"},J={class:"shrink-0 flex items-center brand-name"},X={class:"ml-2 region-name"},Y={class:"sm:flex sm:items-center sm:ms-6"},ee={class:"ms-3 relative"},se={class:"inline-flex rounded-md"},ae={type:"button",class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-500 bg-white hover:text-gray-700 focus:outline-none transition ease-in-out duration-150"},oe={__name:"AuthHeader",setup(y){const{transformValidationErrors:m}=T(),t=L(!1),o=()=>{t.value=!1},e=L({current_password:"",password:"",password_confirmation:"",errors:{}});function r(){e.value.errors={},P.dispatch("postMethod",{url:"/update-passord",param:e.value}).then(n=>{(n==null?void 0:n.status)==422?e.value.errors=m(n.data):(n==null?void 0:n.status)==201&&o()}).catch(n=>{console.log(n)})}return(n,i)=>(g(),b("div",null,[s(d(N),null,{default:l(()=>i[4]||(i[4]=[a("link",{rel:"icon",type:"image/png",href:"/files/images/title.png"},null,-1)])),_:1}),s(D,{show:t.value,onClose:o,"max-width":"sm",title:"Update Password ",onSubmit:r},{default:l(()=>[a("form",H,[a("div",null,[s(_,{for:"current_password",value:"Current Password"}),s(x,{id:"current_password",ref:"currentPasswordInput",modelValue:e.value.current_password,"onUpdate:modelValue":i[0]||(i[0]=p=>e.value.current_password=p),type:"password",class:"mt-1 block w-full",autocomplete:"off",placeholder:"current password"},null,8,["modelValue"]),s(k,{message:e.value.errors.current_password,class:"mt-2"},null,8,["message"])]),a("div",null,[s(_,{for:"password",value:"New Password"}),s(x,{id:"password",ref:"passwordInput",modelValue:e.value.password,"onUpdate:modelValue":i[1]||(i[1]=p=>e.value.password=p),type:"password",class:"mt-1 block w-full",autocomplete:"off",placeholder:" password"},null,8,["modelValue"]),s(k,{message:e.value.errors.password,class:"mt-2"},null,8,["message"])]),a("div",null,[s(_,{for:"password_confirmation",value:"Confirm Password"}),s(x,{id:"password_confirmation",modelValue:e.value.password_confirmation,"onUpdate:modelValue":i[2]||(i[2]=p=>e.value.password_confirmation=p),type:"password",class:"mt-1 block w-full",autocomplete:"new-password",placeholder:"password confirmation"},null,8,["modelValue"]),s(k,{message:e.value.errors.password_confirmation,class:"mt-2"},null,8,["message"])])])]),_:1},8,["show"]),a("nav",j,[a("div",K,[a("div",Q,[a("div",W,[a("button",Z,[s(d(A),{icon:"fa-solid fa-bars items-center"})]),a("div",G,[s(C,{href:n.route("dashboard")},{default:l(()=>{var p,v,h;return[a("div",J,[i[5]||(i[5]=w(" Triple Seventh, ")),a("small",X,"["+M((h=(v=(p=n.$page)==null?void 0:p.props)==null?void 0:v.auth)==null?void 0:h.region)+"]",1)])]}),_:1},8,["href"])])]),a("div",Y,[a("div",ee,[s(q,{align:"right",width:"48"},{trigger:l(()=>{var p,v,h,V;return[a("span",se,[a("button",ae,[w(M((V=(h=(v=(p=n.$page)==null?void 0:p.props)==null?void 0:v.auth)==null?void 0:h.user)==null?void 0:V.email)+" ",1),i[6]||(i[6]=a("svg",{class:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[a("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1))])])]}),content:l(()=>[a("button",{class:"bg-red-200 text-white w-full hover:bg-red-200 py-1",onClick:i[3]||(i[3]=p=>t.value=!0),type:"button",as:"button"}," Update Password "),n.$page.props.auth.role.includes("super admin")||n.$page.props.auth.role.includes("management")?(g(),$(B,{key:0,class:"bg-red-400 text-white text-center hover:bg-red-400",href:n.route("logout.region"),method:"get",as:"button"},{default:l(()=>i[7]||(i[7]=[w(" Log Out Region ")])),_:1},8,["href"])):c("",!0),s(B,{class:"bg-red-600 text-white text-center hover:bg-red-600",href:n.route("logout"),method:"post",as:"button"},{default:l(()=>i[8]||(i[8]=[w(" Log Out ")])),_:1},8,["href"])]),_:1})])])])])])]))}},te=S(oe,[["__scopeId","data-v-558ec4f4"]]),re={class:"z-1 absolute hidden h-full w-64 bg-[#f1f1f1] text-white flex-col sideBar md:z-auto md:flex sm:static"},le={class:"flex h-full w-full flex-col overflow-y-auto pb-5"},ne={class:"mb-auto border-b px-4 py-2 flex"},ie={class:"shrink-0 flex items-center ml-2"},de={class:"flex-1 p-4"},fe={key:1},ue={key:2},pe={key:3},me={key:5},ge={__name:"SideBar",setup(y){const{url:m}=E(),t=o=>`${window.location.origin}${m}`===route(o);return(o,e)=>{const r=I("font-awesome-icon");return g(),b("aside",re,[a("div",le,[a("div",ne,[e[0]||(e[0]=a("h2",{class:"text-xl font-bold text-optimal brand-name"},"MIMS",-1)),a("div",ie,[s(d(f),{href:o.route("dashboard")},{default:l(()=>[s(R,{class:"block h-4 w-auto fill-current text-gray-100"})]),_:1},8,["href"])])]),a("div",de,[a("ul",null,[s(d(f),{href:o.route("dashboard"),class:u(["flex nav-link hover:bg-gray-300",t("dashboard")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:l(()=>[s(r,{icon:"fa-solid fa-house ",class:"facon pt-1"}),e[1]||(e[1]=a("span",{class:"nav-name"},"Dashboard ",-1))]),_:1},8,["href","class"]),o.$page.props.auth.role.includes("super admin")?(g(),$(d(f),{key:0,href:o.route("dependency"),class:u(["flex nav-link hover:bg-gray-300",t("dependency")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:l(()=>[s(r,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),e[2]||(e[2]=a("span",{class:"nav-name"},"Dependency ",-1))]),_:1},8,["href","class"])):c("",!0),o.$page.props.auth.role.includes("super admin")||o.$page.props.auth.role.includes("region admin")?(g(),b("div",fe,[s(d(f),{href:o.route("feeders"),class:u(["flex nav-link hover:bg-gray-300",t("feeders")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:l(()=>[s(r,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),e[3]||(e[3]=a("span",{class:"nav-name"},"Feeders ",-1))]),_:1},8,["href","class"]),s(d(f),{href:o.route("create.staff"),class:u(["flex nav-link hover:bg-gray-300",t("create.staff")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:l(()=>[s(r,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),e[4]||(e[4]=a("span",{class:"nav-name"},"Staff ",-1))]),_:1},8,["href","class"]),s(d(f),{href:o.route("schedules"),class:u(["flex nav-link hover:bg-gray-300",t("schedules")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:l(()=>[s(r,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),e[5]||(e[5]=a("span",{class:"nav-name"},"Schedules ",-1))]),_:1},8,["href","class"]),s(d(f),{href:o.route("teams"),class:u(["flex nav-link hover:bg-gray-300",t("teams")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:l(()=>[s(r,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),e[6]||(e[6]=a("span",{class:"nav-name"},"Teams ",-1))]),_:1},8,["href","class"])])):c("",!0),o.$page.props.auth.role.includes("super admin")||o.$page.props.auth.role.includes("store")?(g(),b("div",ue,[s(d(f),{href:o.route("meter.list"),class:u(["flex nav-link hover:bg-gray-300",t("meter.list")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:l(()=>[s(r,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),e[7]||(e[7]=a("span",{class:"nav-name"},"Meter List ",-1))]),_:1},8,["href","class"]),s(d(f),{href:o.route("inventory.list"),class:u(["flex nav-link hover:bg-gray-300",t("inventory.list")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:l(()=>[s(r,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),e[8]||(e[8]=a("span",{class:"nav-name"},"Inventory Item ",-1))]),_:1},8,["href","class"]),s(d(f),{href:o.route("damage.item"),class:u(["flex nav-link hover:bg-gray-300",t("damage.item")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:l(()=>[s(r,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),e[9]||(e[9]=a("span",{class:"nav-name"},"Damaged Item ",-1))]),_:1},8,["href","class"]),s(d(f),{href:o.route("request.list"),class:u(["flex nav-link hover:bg-gray-300",t("request.list")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:l(()=>[s(r,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),e[10]||(e[10]=a("span",{class:"nav-name"},"Request List",-1))]),_:1},8,["href","class"])])):c("",!0),o.$page.props.auth.role.includes("super admin")||o.$page.props.auth.role.includes("supervisor")?(g(),b("div",pe,[s(d(f),{href:o.route("assigned.meters"),class:u(["flex nav-link hover:bg-gray-300",t("assigned.meters")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:l(()=>[s(r,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),e[11]||(e[11]=a("span",{class:"nav-name"},"Assigned Meter ",-1))]),_:1},8,["href","class"]),s(d(f),{href:o.route("team.members"),class:u(["flex nav-link hover:bg-gray-300",t("team.members")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:l(()=>[s(r,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),e[12]||(e[12]=a("span",{class:"nav-name"},"Team Members ",-1))]),_:1},8,["href","class"])])):c("",!0),o.$page.props.auth.role.includes("super admin")||o.$page.props.auth.role.includes("region admin")||o.$page.props.auth.role.includes("supervisor")?(g(),$(d(f),{key:4,href:o.route("request"),class:u(["flex nav-link hover:bg-gray-300",t("request")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:l(()=>[s(r,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),e[13]||(e[13]=a("span",{class:"nav-name"},"Request ",-1))]),_:1},8,["href","class"])):c("",!0),o.$page.props.auth.role.includes("super admin")||o.$page.props.auth.role.includes("data entry")?(g(),b("div",me,[s(d(f),{href:o.route("installations"),class:u(["flex nav-link hover:bg-gray-300",t("installations")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:l(()=>[s(r,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),e[14]||(e[14]=a("span",{class:"nav-name"},"Installations ",-1))]),_:1},8,["href","class"]),s(d(f),{href:o.route("complains"),class:u(["flex nav-link hover:bg-gray-300",t("complains")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:l(()=>[s(r,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),e[15]||(e[15]=a("span",{class:"nav-name"},"Complains ",-1))]),_:1},8,["href","class"])])):c("",!0)])]),e[16]||(e[16]=a("div",{class:"mt-auto border-t mb-1 p-2 items-center side-bottom"},[a("div",{class:"mx-auto"},[a("img",{src:"/files/images/optimal.png",alt:"Optimal Soft Logo"})])],-1))])])}}},ce=S(ge,[["__scopeId","data-v-02a77fbe"]]),be={class:"h-screen flex"},ve={class:"flex min-h-[90vh] flex-col w-full overflow-x-hidden overflow-y-auto"},he={class:"flex w-full mx-auto px-6 py-1"},ye={class:"flex flex-col w-full h-full"},we={class:"mx-auto"},_e={__name:"MainLayout",setup(y){return z(()=>{let m=document.querySelectorAll(".nav-link");for(let e=0;e<m.length;e++)m[e].addEventListener("click",()=>{window.innerWidth<756&&o.classList.toggle("showSidebar")});let t=document.querySelector("#toggleSideBar"),o=document.querySelector(".sideBar");t.addEventListener("click",()=>{o.classList.toggle("showSidebar")})}),(m,t)=>{const o=I("spinner-loader");return g(),b("div",be,[s(o),s(ce),a("main",ve,[s(te),a("div",he,[a("div",ye,[a("div",we,[s(F)]),U(m.$slots,"default",{},void 0,!0)])]),s(O,{class:"mt-auto"})])])}}},Le=S(_e,[["__scopeId","data-v-2d8e2af3"]]);export{Le as M,T as f};
