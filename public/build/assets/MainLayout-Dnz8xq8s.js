import{_ as C,a as B,b as q}from"./NavLink-BOBB4aM_.js";import{_ as x,l as I,o as g,c as b,a as s,w as r,b as a,u as f,Z as N,I as P,e as c,t as L,d as S,g as v,v as A,x as V,Q as E,i as u,n as p,p as z,y as O}from"./app-BeIHXs5z.js";import{_ as U}from"./Modal-DJ4_eovN.js";import{_,a as k,b as $}from"./TextInput-BxotePYa.js";import{A as D}from"./ApplicationLogo-DiO75rnE.js";function R(){function h(t,o="axios"){const e=[];if(o=="axios"&&t)for(let l in t){if(l.indexOf(".")!==-1){let i=n(l);e[i]=t[l][0]}else e[l]=t[l][0];e[l]=t[l][0]}return e}function n(t){const o=t.split(".").filter(l=>l),e=t.split(".").filter(l=>!isNaN(l));return o[2]+e.map(Number)}return{transformValidationErrors:h}}const F={action:"",class:"px-4 py-2"},T={class:"bg-[#f1f1f1] border-b border-gray-100"},j={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},H={class:"flex justify-between h-11"},K={class:"flex"},Q={class:"mt-3 block md:hidden relative bg-optimal px-4 rounded-md text-white z-200",id:"toggleSideBar"},W={class:"hidden space-x-8 sm:-my-px sm:ms-10 sm:flex"},Z={class:"shrink-0 flex items-center brand-name"},G={class:"ml-2 region-name"},J={class:"sm:flex sm:items-center sm:ms-6"},X={class:"ms-3 relative"},Y={class:"inline-flex rounded-md"},ee={type:"button",class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-500 bg-white hover:text-gray-700 focus:outline-none transition ease-in-out duration-150"},se={__name:"AuthHeader",setup(h){const{transformValidationErrors:n}=R(),t=I(!1),o=()=>{t.value=!1},e=I({current_password:"",password:"",password_confirmation:"",errors:{}});function l(){e.value.errors={},A.dispatch("postMethod",{url:"/update-passord",param:e.value}).then(i=>{(i==null?void 0:i.status)==422?e.value.errors=n(i.data):(i==null?void 0:i.status)==201&&o()}).catch(i=>{console.log(i)})}return(i,d)=>(g(),b("div",null,[s(f(N),null,{default:r(()=>d[4]||(d[4]=[a("link",{rel:"icon",type:"image/png",href:"/files/images/title.png"},null,-1)])),_:1}),s(U,{show:t.value,onClose:o,"max-width":"sm",title:"Update Password ",onSubmit:l},{default:r(()=>[a("form",F,[a("div",null,[s(_,{for:"current_password",value:"Current Password"}),s(k,{id:"current_password",ref:"currentPasswordInput",modelValue:e.value.current_password,"onUpdate:modelValue":d[0]||(d[0]=m=>e.value.current_password=m),type:"password",class:"mt-1 block w-full",autocomplete:"off",placeholder:"current password"},null,8,["modelValue"]),s($,{message:e.value.errors.current_password,class:"mt-2"},null,8,["message"])]),a("div",null,[s(_,{for:"password",value:"New Password"}),s(k,{id:"password",ref:"passwordInput",modelValue:e.value.password,"onUpdate:modelValue":d[1]||(d[1]=m=>e.value.password=m),type:"password",class:"mt-1 block w-full",autocomplete:"off",placeholder:" password"},null,8,["modelValue"]),s($,{message:e.value.errors.password,class:"mt-2"},null,8,["message"])]),a("div",null,[s(_,{for:"password_confirmation",value:"Confirm Password"}),s(k,{id:"password_confirmation",modelValue:e.value.password_confirmation,"onUpdate:modelValue":d[2]||(d[2]=m=>e.value.password_confirmation=m),type:"password",class:"mt-1 block w-full",autocomplete:"new-password",placeholder:"password confirmation"},null,8,["modelValue"]),s($,{message:e.value.errors.password_confirmation,class:"mt-2"},null,8,["message"])])])]),_:1},8,["show"]),a("nav",T,[a("div",j,[a("div",H,[a("div",K,[a("button",Q,[s(f(P),{icon:"fa-solid fa-bars items-center"})]),a("div",W,[s(C,{href:i.route("dashboard")},{default:r(()=>{var m,y,w;return[a("div",Z,[d[5]||(d[5]=c(" Triple Seventh, ")),a("small",G,"["+L((w=(y=(m=i.$page)==null?void 0:m.props)==null?void 0:y.auth)==null?void 0:w.region)+"]",1)])]}),_:1},8,["href"])])]),a("div",J,[a("div",X,[s(q,{align:"right",width:"48"},{trigger:r(()=>{var m,y,w,M;return[a("span",Y,[a("button",ee,[c(L((M=(w=(y=(m=i.$page)==null?void 0:m.props)==null?void 0:y.auth)==null?void 0:w.user)==null?void 0:M.email)+" ",1),d[6]||(d[6]=a("svg",{class:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[a("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1))])])]}),content:r(()=>[a("button",{class:"bg-red-200 text-white w-full hover:bg-red-200 py-1",onClick:d[3]||(d[3]=m=>t.value=!0),type:"button",as:"button"}," Update Password "),i.$page.props.auth.role.includes("super admin")||i.$page.props.auth.role.includes("management")?(g(),S(B,{key:0,class:"bg-red-400 text-white text-center hover:bg-red-400",href:i.route("logout.region"),method:"get",as:"button"},{default:r(()=>d[7]||(d[7]=[c(" Log Out Region ")])),_:1},8,["href"])):v("",!0),s(B,{class:"bg-red-600 text-white text-center hover:bg-red-600",href:i.route("logout"),method:"post",as:"button"},{default:r(()=>d[8]||(d[8]=[c(" Log Out ")])),_:1},8,["href"])]),_:1})])])])])])]))}},ae=x(se,[["__scopeId","data-v-558ec4f4"]]),oe={},te={class:"container mx-auto border-t bottom-0 flex justify-between px-8"};function le(h,n){const t=V("nuxt-link");return g(),b("div",null,[a("footer",te,[a("p",null,[n[1]||(n[1]=c("Â© 2024 ")),s(t,{to:"#",class:"text-xl font-bold bauhaus"},{default:r(()=>n[0]||(n[0]=[c("MIMS")])),_:1})]),a("p",null,[n[3]||(n[3]=c("Powered ")),s(t,{to:"#",class:"text-xl font-bold bauhaus"},{default:r(()=>n[2]||(n[2]=[c("Optimal")])),_:1}),n[4]||(n[4]=c(" Soft"))])])])}const re=x(oe,[["render",le]]),ne={class:"z-1 absolute hidden h-full w-64 bg-[#f1f1f1] text-white flex-col sideBar md:z-auto md:flex sm:static"},ie={class:"flex h-full w-full flex-col overflow-y-auto pb-5"},de={class:"mb-auto border-b px-4 py-2 flex"},fe={class:"shrink-0 flex items-center ml-2"},ue={class:"flex-1 p-4"},pe={key:1},me={key:2},ge={key:3},ce={key:5},be={__name:"SideBar",setup(h){const{url:n}=E(),t=o=>`${window.location.origin}${n}`===route(o);return(o,e)=>{const l=V("font-awesome-icon");return g(),b("aside",ne,[a("div",ie,[a("div",de,[e[0]||(e[0]=a("h2",{class:"text-xl font-bold text-optimal brand-name"},"MIMS",-1)),a("div",fe,[s(f(u),{href:o.route("dashboard")},{default:r(()=>[s(D,{class:"block h-4 w-auto fill-current text-gray-100"})]),_:1},8,["href"])])]),a("div",ue,[a("ul",null,[s(f(u),{href:o.route("dashboard"),class:p(["flex nav-link hover:bg-gray-300",t("dashboard")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:r(()=>[s(l,{icon:"fa-solid fa-house ",class:"facon pt-1"}),e[1]||(e[1]=a("span",{class:"nav-name"},"Dashboard ",-1))]),_:1},8,["href","class"]),o.$page.props.auth.role.includes("super admin")?(g(),S(f(u),{key:0,href:o.route("dependency"),class:p(["flex nav-link hover:bg-gray-300",t("dependency")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:r(()=>[s(l,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),e[2]||(e[2]=a("span",{class:"nav-name"},"Dependency ",-1))]),_:1},8,["href","class"])):v("",!0),o.$page.props.auth.role.includes("super admin")||o.$page.props.auth.role.includes("region admin")?(g(),b("div",pe,[s(f(u),{href:o.route("feeders"),class:p(["flex nav-link hover:bg-gray-300",t("feeders")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:r(()=>[s(l,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),e[3]||(e[3]=a("span",{class:"nav-name"},"Feeders ",-1))]),_:1},8,["href","class"]),s(f(u),{href:o.route("create.staff"),class:p(["flex nav-link hover:bg-gray-300",t("create.staff")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:r(()=>[s(l,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),e[4]||(e[4]=a("span",{class:"nav-name"},"Staff ",-1))]),_:1},8,["href","class"]),s(f(u),{href:o.route("schedules"),class:p(["flex nav-link hover:bg-gray-300",t("schedules")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:r(()=>[s(l,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),e[5]||(e[5]=a("span",{class:"nav-name"},"Schedules ",-1))]),_:1},8,["href","class"]),s(f(u),{href:o.route("teams"),class:p(["flex nav-link hover:bg-gray-300",t("teams")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:r(()=>[s(l,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),e[6]||(e[6]=a("span",{class:"nav-name"},"Teams ",-1))]),_:1},8,["href","class"])])):v("",!0),o.$page.props.auth.role.includes("super admin")||o.$page.props.auth.role.includes("store")?(g(),b("div",me,[s(f(u),{href:o.route("meter.list"),class:p(["flex nav-link hover:bg-gray-300",t("meter.list")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:r(()=>[s(l,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),e[7]||(e[7]=a("span",{class:"nav-name"},"Meter List ",-1))]),_:1},8,["href","class"]),s(f(u),{href:o.route("inventory.list"),class:p(["flex nav-link hover:bg-gray-300",t("inventory.list")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:r(()=>[s(l,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),e[8]||(e[8]=a("span",{class:"nav-name"},"Inventory Item ",-1))]),_:1},8,["href","class"]),s(f(u),{href:o.route("damage.item"),class:p(["flex nav-link hover:bg-gray-300",t("damage.item")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:r(()=>[s(l,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),e[9]||(e[9]=a("span",{class:"nav-name"},"Damaged Item ",-1))]),_:1},8,["href","class"]),s(f(u),{href:o.route("request.list"),class:p(["flex nav-link hover:bg-gray-300",t("request.list")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:r(()=>[s(l,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),e[10]||(e[10]=a("span",{class:"nav-name"},"Request List",-1))]),_:1},8,["href","class"])])):v("",!0),o.$page.props.auth.role.includes("super admin")||o.$page.props.auth.role.includes("supervisor")?(g(),b("div",ge,[s(f(u),{href:o.route("assigned.meters"),class:p(["flex nav-link hover:bg-gray-300",t("assigned.meters")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:r(()=>[s(l,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),e[11]||(e[11]=a("span",{class:"nav-name"},"Assigned Meter ",-1))]),_:1},8,["href","class"])])):v("",!0),o.$page.props.auth.role.includes("super admin")||o.$page.props.auth.role.includes("region admin")||o.$page.props.auth.role.includes("supervisor")?(g(),S(f(u),{key:4,href:o.route("request"),class:p(["flex nav-link hover:bg-gray-300",t("request")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:r(()=>[s(l,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),e[12]||(e[12]=a("span",{class:"nav-name"},"Request ",-1))]),_:1},8,["href","class"])):v("",!0),o.$page.props.auth.role.includes("super admin")||o.$page.props.auth.role.includes("data entry")?(g(),b("div",ce,[s(f(u),{href:o.route("installations"),class:p(["flex nav-link hover:bg-gray-300",t("installations")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:r(()=>[s(l,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),e[13]||(e[13]=a("span",{class:"nav-name"},"Installations ",-1))]),_:1},8,["href","class"]),s(f(u),{href:o.route("complains"),class:p(["flex nav-link hover:bg-gray-300",t("complains")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:r(()=>[s(l,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),e[14]||(e[14]=a("span",{class:"nav-name"},"Complains ",-1))]),_:1},8,["href","class"])])):v("",!0)])]),e[15]||(e[15]=a("div",{class:"mt-auto border-t mb-1 p-2 items-center side-bottom"},[a("div",{class:"mx-auto"},[a("img",{src:"/files/images/optimal.png",alt:"Optimal Soft Logo"})])],-1))])])}}},ve=x(be,[["__scopeId","data-v-9524b03e"]]),he={class:"h-screen flex"},ye={class:"flex min-h-[90vh] flex-col w-full overflow-x-hidden overflow-y-auto"},we={class:"flex w-full mx-auto px-6 py-1"},xe={class:"flex flex-col w-full h-full"},_e={__name:"MainLayout",setup(h){return z(()=>{let n=document.querySelectorAll(".nav-link");for(let e=0;e<n.length;e++)n[e].addEventListener("click",()=>{window.innerWidth<756&&o.classList.toggle("showSidebar")});let t=document.querySelector("#toggleSideBar"),o=document.querySelector(".sideBar");t.addEventListener("click",()=>{o.classList.toggle("showSidebar")})}),(n,t)=>{const o=V("spinner-loader");return g(),b("div",he,[s(o),s(ve),a("main",ye,[s(ae),a("div",we,[a("div",xe,[O(n.$slots,"default",{},void 0,!0)])]),s(re,{class:"mt-auto"})])])}}},Be=x(_e,[["__scopeId","data-v-eb744fb5"]]);export{Be as M,R as f};
