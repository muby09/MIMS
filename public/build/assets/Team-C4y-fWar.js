import{f as I,M as j}from"./MainLayout-B-SXSOoK.js";import{_ as M,l as i,v as p,o as u,c,a,w as V,b as e,u as C,I as U,F as S,r as B,t as f,Z as z,n as N,g as F}from"./app-B8N_3nHs.js";import{_ as L}from"./Modal-D1rkBpyZ.js";import{_ as Z,a as q,b as h}from"./TextInput-DRItEGki.js";import{_ as y}from"./BaseSelect-Chru1Jpq.js";import"./NavLink-BPjrVguJ.js";import"./ApplicationLogo-D58u9i2o.js";const G={action:"",class:"px-4 py-2"},H={class:"overflow-auto rounded-lg shadow"},J={class:"w-full"},K={class:"bg-gray-50 border-b-2 border-gray-200"},O={width:"10%",class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},P={class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},Q={class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},R={class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},W={class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},X=["onClick"],Y={__name:"TeamsTab",setup(A){const{transformValidationErrors:m}=I(),d=i(!1),b=()=>{w(),d.value=!1},t=i({team:"",supervisor:"",errors:{}});function v(){t.errors={},p.dispatch("postMethod",{url:"/create-team",param:t.value}).then(o=>{(o==null?void 0:o.status)==422?t.value.errors=m(o.data):(o==null?void 0:o.status)==201&&(b(),g())}).catch(o=>{console.log(o)})}const w=()=>{t.value={team:"",supervisor:"",errors:{}}},k=o=>{var l;t.value={team:o.team,supervisor:(l=o==null?void 0:o.supervisor)==null?void 0:l.pid,pid:o.pid,errors:{}},d.value=!0},_=i({});function g(o="load-teams"){p.dispatch("getMethod",{url:o}).then(l=>{(l==null?void 0:l.status)==200&&(_.value=l.data)}).catch(l=>{console.log(l)})}g(),T();const x=i({});function T(){p.dispatch("loadDropdown","supervisors").then(({data:o})=>{x.value=o}).catch(o=>{console.log(o)})}return(o,l)=>(u(),c("div",null,[a(L,{show:d.value,onClose:b,"max-width":"sm",title:"Add Team ",onSubmit:v},{default:V(()=>[e("form",G,[e("div",null,[a(Z,{for:"text",value:"Team Name"}),a(q,{id:"text",type:"text",class:"mt-1 block w-full",modelValue:t.value.team,"onUpdate:modelValue":l[0]||(l[0]=s=>t.value.team=s),placeholder:"e.g Team Abdulkareem",autocomplete:"off"},null,8,["modelValue"]),a(h,{class:"mt-2",message:t.value.errors.team},null,8,["message"])]),e("div",null,[a(y,{modelValue:t.value.supervisor,"onUpdate:modelValue":l[1]||(l[1]=s=>t.value.supervisor=s),label:"Supervisor",selected:t.value.supervisor,options:x.value},null,8,["modelValue","selected","options"]),a(h,{class:"mt-2",message:t.value.errors.supervisor},null,8,["message"])])])]),_:1},8,["show"]),e("button",{onClick:l[2]||(l[2]=s=>d.value=!0),class:"bg-optimal text-white p-1 mb-2 rounded"},"Add Team"),e("div",H,[e("table",J,[e("thead",K,[e("tr",null,[l[3]||(l[3]=e("th",{width:"5%",class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},"S/N",-1)),l[4]||(l[4]=e("th",{class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},"Team",-1)),l[5]||(l[5]=e("th",{class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},"Supervisor",-1)),e("th",O,[a(C(U),{icon:"fa-solid fa fa-cog"})])])]),e("tbody",null,[(u(!0),c(S,null,B(_.value,(s,r)=>{var n;return u(),c("tr",{class:"bg-white",key:r},[e("td",P,f(r+1),1),e("td",Q,f(s.team),1),e("td",R,f((n=s==null?void 0:s.supervisor)==null?void 0:n.email),1),e("td",W,[e("button",{class:"p-1 oy-1 text-sm bg-yellow-500 rounded-md text-white me-2 inline-block",onClick:$=>k(s)},"Edit",8,X)])])}),128))])])])]))}},ee=M(Y,[["__scopeId","data-v-a0342dfa"]]),te={action:"",class:"px-4 py-2"},se={class:"overflow-auto rounded-lg shadow"},oe={class:"w-full"},le={class:"bg-gray-50 border-b-2 border-gray-200"},re={width:"10%",class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},ae={class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},ne={class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},de={class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},ie={class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},me=["onClick"],ue={__name:"TeamMemberTab",setup(A){const{transformValidationErrors:m}=I(),d=i(!1),b=()=>{w(),d.value=!1},t=i({team:"",user_pid:"",errors:{}});function v(){t.errors={},p.dispatch("postMethod",{url:"/add-team-member",param:t.value}).then(s=>{(s==null?void 0:s.status)==422?t.value.errors=m(s.data):(s==null?void 0:s.status)==201&&(b(),x())}).catch(s=>{console.log(s)})}const w=()=>{t.value={team:"",members:[{user_pid:""}],errors:{}}},k=s=>{t.value={team:s.team_pid,members:[{user_pid:""}],user_pid:s.user_pid,errors:{}},d.value=!0},_=i({}),g=i({});i({});function x(s="load-team-member"){p.dispatch("getMethod",{url:s}).then(r=>{(r==null?void 0:r.status)==200&&(_.value=r.data)}).catch(r=>{console.log(r)})}x(),T();function T(){p.dispatch("loadDropdown","teams").then(({data:s})=>{g.value=s}).catch(s=>{console.log(s)})}l();const o=i({});function l(){p.dispatch("loadDropdown","installers").then(({data:s})=>{o.value=s}).catch(s=>{console.log(s)})}return(s,r)=>(u(),c("div",null,[a(L,{show:d.value,onClose:b,"max-width":"sm",title:"Add Team Member ",onSubmit:v},{default:V(()=>[e("form",te,[e("div",null,[a(y,{modelValue:t.value.team,"onUpdate:modelValue":r[0]||(r[0]=n=>t.value.team=n),label:"Teams",selected:t.value.team,options:g.value},null,8,["modelValue","selected","options"]),a(h,{class:"mt-2",message:t.value.errors.team},null,8,["message"])]),e("div",null,[a(y,{modelValue:t.value.user_pid,"onUpdate:modelValue":r[1]||(r[1]=n=>t.value.user_pid=n),label:"Team Member",selected:t.value.user_pid,options:o.value},null,8,["modelValue","selected","options"]),a(h,{class:"mt-2",message:t.value.errors.user_pid},null,8,["message"])])])]),_:1},8,["show"]),e("button",{onClick:r[2]||(r[2]=n=>d.value=!0),class:"bg-optimal text-white p-1 mb-2 rounded"},"Add Team"),e("div",se,[e("table",oe,[e("thead",le,[e("tr",null,[r[3]||(r[3]=e("th",{width:"5%",class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},"S/N",-1)),r[4]||(r[4]=e("th",{class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},"Team",-1)),r[5]||(r[5]=e("th",{class:"p-3 text-sm font-semibold tracking-wide text-left table-bordered"},"Member",-1)),e("th",re,[a(C(U),{icon:"fa-solid fa fa-cog"})])])]),e("tbody",null,[(u(!0),c(S,null,B(_.value,(n,$)=>{var D,E;return u(),c("tr",{class:"bg-white",key:$},[e("td",ae,f($+1),1),e("td",ne,f((D=n.team)==null?void 0:D.team),1),e("td",de,f((E=n==null?void 0:n.user)==null?void 0:E.username),1),e("td",ie,[e("button",{class:"p-1 oy-1 text-sm bg-yellow-500 rounded-md text-white me-2 inline-block",onClick:ke=>k(n)},"Edit",8,me)])])}),128))])])])]))}},ce=M(ue,[["__scopeId","data-v-bbc10581"]]),be={class:"container mx-auto"},pe={class:"m-4 pb-4 border bg-gray-100 rounded-lg"},fe={class:"text-sm flex justify-center bg-gray-200"},ve={class:"p-3 bg-gra-200"},_e={key:0},ge={class:"border border-gray-300 rounded-lg p-4"},xe={key:1},he={class:"border border-gray-300 rounded-lg p-4"},we={__name:"Team",setup(A){const m=i(1),d=b=>m.value=b;return(b,t)=>(u(),c(S,null,[a(C(z),{title:"Teams"}),a(j,null,{default:V(()=>[e("div",be,[e("fieldset",pe,[e("nav",fe,[e("a",{onClick:t[0]||(t[0]=v=>d(1)),class:N(["inline-block px-4 py-3 cursor-pointer",m.value===1&&"active"])},"Team ",2),e("a",{onClick:t[1]||(t[1]=v=>d(2)),class:N(["inline-block px-4 py-3 cursor-pointer",m.value===2&&"active"])},"Team Member",2)]),e("div",ve,[m.value===1?(u(),c("div",_e,[e("fieldset",ge,[t[2]||(t[2]=e("legend",{class:"text-lg font-medium text-left px-2"},"Team ",-1)),a(ee)])])):F("",!0),m.value===2?(u(),c("div",xe,[e("fieldset",he,[t[3]||(t[3]=e("legend",{class:"text-lg font-medium text-left px-2"},"Team Member",-1)),a(ce)])])):F("",!0)])])])]),_:1})],64))}},Ae=M(we,[["__scopeId","data-v-edfc333c"]]);export{Ae as default};
