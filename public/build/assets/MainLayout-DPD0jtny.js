import{_ as B,a as S,b as N}from"./NavLink-CruCK85a.js";import{_ as x,m as C,o as g,c as b,a as e,w as r,b as o,u as f,Z as P,K as q,e as c,t as L,d as V,g as v,y as A,z as M,Q as O,i as u,n as p,B as U}from"./app-0OmGpnaL.js";import{_ as D}from"./Modal-yi_1a1a_.js";import{_,a as k,b as $}from"./TextInput-B1LRD290.js";import{A as E}from"./ApplicationLogo-D469ArIg.js";function R(){function h(t,a="axios"){const s=[];if(a=="axios"&&t)for(let l in t){if(l.indexOf(".")!==-1){let n=i(l);s[n]=t[l][0]}else s[l]=t[l][0];s[l]=t[l][0]}return s}function i(t){const a=t.split(".").filter(l=>l),s=t.split(".").filter(l=>!isNaN(l));return a[2]+s.map(Number)}return{transformValidationErrors:h}}const z={action:"",class:"px-4 py-2"},F={class:"bg-[#f1f1f1] border-b border-gray-100"},T={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},j={class:"flex justify-between h-11"},H={class:"flex"},K={class:"mt-3 block md:hidden"},Q={class:"hidden space-x-8 sm:-my-px sm:ms-10 sm:flex"},Z={class:"shrink-0 flex items-center brand-name"},G={class:"ml-2 region-name"},J={class:"sm:flex sm:items-center sm:ms-6"},W={class:"ms-3 relative"},X={class:"inline-flex rounded-md"},Y={type:"button",class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-500 bg-white hover:text-gray-700 focus:outline-none transition ease-in-out duration-150"},ss={__name:"AuthHeader",setup(h){const{transformValidationErrors:i}=R(),t=C(!1),a=()=>{t.value=!1},s=C({current_password:"",password:"",password_confirmation:"",errors:{}});function l(){s.value.errors={},A.dispatch("postMethod",{url:"/update-passord",param:s.value}).then(n=>{(n==null?void 0:n.status)==422?s.value.errors=i(n.data):(n==null?void 0:n.status)==201&&a()}).catch(n=>{console.log(n)})}return(n,d)=>(g(),b("div",null,[e(f(P),null,{default:r(()=>d[4]||(d[4]=[o("link",{rel:"icon",type:"image/png",href:"/files/images/title.png"},null,-1)])),_:1}),e(D,{show:t.value,onClose:a,"max-width":"sm",title:"Update Password ",onSubmit:l},{default:r(()=>[o("form",z,[o("div",null,[e(_,{for:"current_password",value:"Current Password"}),e(k,{id:"current_password",ref:"currentPasswordInput",modelValue:s.value.current_password,"onUpdate:modelValue":d[0]||(d[0]=m=>s.value.current_password=m),type:"password",class:"mt-1 block w-full",autocomplete:"off",placeholder:"current password"},null,8,["modelValue"]),e($,{message:s.value.errors.current_password,class:"mt-2"},null,8,["message"])]),o("div",null,[e(_,{for:"password",value:"New Password"}),e(k,{id:"password",ref:"passwordInput",modelValue:s.value.password,"onUpdate:modelValue":d[1]||(d[1]=m=>s.value.password=m),type:"password",class:"mt-1 block w-full",autocomplete:"off",placeholder:" password"},null,8,["modelValue"]),e($,{message:s.value.errors.password,class:"mt-2"},null,8,["message"])]),o("div",null,[e(_,{for:"password_confirmation",value:"Confirm Password"}),e(k,{id:"password_confirmation",modelValue:s.value.password_confirmation,"onUpdate:modelValue":d[2]||(d[2]=m=>s.value.password_confirmation=m),type:"password",class:"mt-1 block w-full",autocomplete:"new-password",placeholder:"password confirmation"},null,8,["modelValue"]),e($,{message:s.value.errors.password_confirmation,class:"mt-2"},null,8,["message"])])])]),_:1},8,["show"]),o("nav",F,[o("div",T,[o("div",j,[o("div",H,[o("button",K,[e(f(q),{icon:"fa-solid fa-bars items-center"})]),o("div",Q,[e(B,{href:n.route("dashboard")},{default:r(()=>{var m,y,w;return[o("div",Z,[d[5]||(d[5]=c(" Triple Seventh, ")),o("small",G,"["+L((w=(y=(m=n.$page)==null?void 0:m.props)==null?void 0:y.auth)==null?void 0:w.region)+"]",1)])]}),_:1},8,["href"])])]),o("div",J,[o("div",W,[e(N,{align:"right",width:"48"},{trigger:r(()=>{var m,y,w,I;return[o("span",X,[o("button",Y,[c(L((I=(w=(y=(m=n.$page)==null?void 0:m.props)==null?void 0:y.auth)==null?void 0:w.user)==null?void 0:I.email)+" ",1),d[6]||(d[6]=o("svg",{class:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1))])])]}),content:r(()=>[o("button",{class:"bg-red-200 text-white w-full hover:bg-red-200 py-1",onClick:d[3]||(d[3]=m=>t.value=!0),type:"button",as:"button"}," Update Password "),n.$page.props.auth.role.includes("super admin")||n.$page.props.auth.role.includes("management")?(g(),V(S,{key:0,class:"bg-red-400 text-white text-center hover:bg-red-400",href:n.route("logout.region"),method:"get",as:"button"},{default:r(()=>d[7]||(d[7]=[c(" Log Out Region ")])),_:1},8,["href"])):v("",!0),e(S,{class:"bg-red-600 text-white text-center hover:bg-red-600",href:n.route("logout"),method:"post",as:"button"},{default:r(()=>d[8]||(d[8]=[c(" Log Out ")])),_:1},8,["href"])]),_:1})])])])])])]))}},es=x(ss,[["__scopeId","data-v-00d463ca"]]),os={},as={class:"container mx-auto border-t bottom-0 flex justify-between px-8"};function ts(h,i){const t=M("nuxt-link");return g(),b("div",null,[o("footer",as,[o("p",null,[i[1]||(i[1]=c("Â© 2024 ")),e(t,{to:"#",class:"text-xl font-bold bauhaus"},{default:r(()=>i[0]||(i[0]=[c("MIMS")])),_:1})]),o("p",null,[i[3]||(i[3]=c("Powered ")),e(t,{to:"#",class:"text-xl font-bold bauhaus"},{default:r(()=>i[2]||(i[2]=[c("Optimal")])),_:1}),i[4]||(i[4]=c(" Soft"))])])])}const ls=x(os,[["render",ts]]),rs={class:"hidden md:flex h-full w-64 bg-[#f1f1f1] text-white flex-col"},ns={class:"flex h-full w-full flex-col overflow-y-auto pb-5"},is={class:"mb-auto border-b px-4 py-2 flex"},ds={class:"shrink-0 flex items-center ml-2"},fs={class:"flex-1 p-4"},us={key:1},ps={key:2},ms={key:3},gs={key:5},cs={__name:"SideBar",setup(h){const{url:i}=O(),t=a=>`${window.location.origin}${i}`===route(a);return(a,s)=>{const l=M("font-awesome-icon");return g(),b("aside",rs,[o("div",ns,[o("div",is,[s[0]||(s[0]=o("h2",{class:"text-xl font-bold text-optimal brand-name"},"MIMS",-1)),o("div",ds,[e(f(u),{href:a.route("dashboard")},{default:r(()=>[e(E,{class:"block h-4 w-auto fill-current text-gray-100"})]),_:1},8,["href"])])]),o("div",fs,[o("ul",null,[e(f(u),{href:a.route("dashboard"),class:p(["flex link hover:bg-gray-300",t("dashboard")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:r(()=>[e(l,{icon:"fa-solid fa-house ",class:"facon pt-1"}),s[1]||(s[1]=o("span",{class:"nav-name"},"Dashboard ",-1))]),_:1},8,["href","class"]),a.$page.props.auth.role.includes("super admin")?(g(),V(f(u),{key:0,href:a.route("dependency"),class:p(["flex link hover:bg-gray-300",t("dependency")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:r(()=>[e(l,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),s[2]||(s[2]=o("span",{class:"nav-name"},"Dependency ",-1))]),_:1},8,["href","class"])):v("",!0),a.$page.props.auth.role.includes("super admin")||a.$page.props.auth.role.includes("region admin")?(g(),b("div",us,[e(f(u),{href:a.route("feeders"),class:p(["flex link hover:bg-gray-300",t("feeders")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:r(()=>[e(l,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),s[3]||(s[3]=o("span",{class:"nav-name"},"Feeders ",-1))]),_:1},8,["href","class"]),e(f(u),{href:a.route("create.staff"),class:p(["flex link hover:bg-gray-300",t("create.staff")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:r(()=>[e(l,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),s[4]||(s[4]=o("span",{class:"nav-name"},"Staff ",-1))]),_:1},8,["href","class"]),e(f(u),{href:a.route("schedules"),class:p(["flex link hover:bg-gray-300",t("schedules")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:r(()=>[e(l,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),s[5]||(s[5]=o("span",{class:"nav-name"},"Schedules ",-1))]),_:1},8,["href","class"]),e(f(u),{href:a.route("teams"),class:p(["flex link hover:bg-gray-300",t("teams")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:r(()=>[e(l,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),s[6]||(s[6]=o("span",{class:"nav-name"},"Teams ",-1))]),_:1},8,["href","class"])])):v("",!0),a.$page.props.auth.role.includes("super admin")||a.$page.props.auth.role.includes("store")?(g(),b("div",ps,[e(f(u),{href:a.route("meter.list"),class:p(["flex link hover:bg-gray-300",t("meter.list")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:r(()=>[e(l,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),s[7]||(s[7]=o("span",{class:"nav-name"},"Meter List ",-1))]),_:1},8,["href","class"]),e(f(u),{href:a.route("inventory.list"),class:p(["flex link hover:bg-gray-300",t("inventory.list")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:r(()=>[e(l,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),s[8]||(s[8]=o("span",{class:"nav-name"},"Inventory Item ",-1))]),_:1},8,["href","class"]),e(f(u),{href:a.route("damage.item"),class:p(["flex link hover:bg-gray-300",t("damage.item")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:r(()=>[e(l,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),s[9]||(s[9]=o("span",{class:"nav-name"},"Damaged Item ",-1))]),_:1},8,["href","class"]),e(f(u),{href:a.route("request.list"),class:p(["flex link hover:bg-gray-300",t("request.list")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:r(()=>[e(l,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),s[10]||(s[10]=o("span",{class:"nav-name"},"Request List",-1))]),_:1},8,["href","class"])])):v("",!0),a.$page.props.auth.role.includes("super admin")||a.$page.props.auth.role.includes("supervisor")?(g(),b("div",ms,[e(f(u),{href:a.route("assigned.meters"),class:p(["flex link hover:bg-gray-300",t("assigned.meters")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:r(()=>[e(l,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),s[11]||(s[11]=o("span",{class:"nav-name"},"Assigned Meter ",-1))]),_:1},8,["href","class"])])):v("",!0),a.$page.props.auth.role.includes("super admin")||a.$page.props.auth.role.includes("region admin")||a.$page.props.auth.role.includes("supervisor")?(g(),V(f(u),{key:4,href:a.route("request"),class:p(["flex link hover:bg-gray-300",t("request")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:r(()=>[e(l,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),s[12]||(s[12]=o("span",{class:"nav-name"},"Request ",-1))]),_:1},8,["href","class"])):v("",!0),a.$page.props.auth.role.includes("super admin")||a.$page.props.auth.role.includes("data entry")?(g(),b("div",gs,[e(f(u),{href:a.route("installations"),class:p(["flex link hover:bg-gray-300",t("installations")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:r(()=>[e(l,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),s[13]||(s[13]=o("span",{class:"nav-name"},"Installations ",-1))]),_:1},8,["href","class"]),e(f(u),{href:a.route("complains"),class:p(["flex link hover:bg-gray-300",t("complains")?"bg-gray-200 text-optimal font-bold":"bg-gray-400"])},{default:r(()=>[e(l,{icon:"fa-solid fa-keyboard ",class:"facon pt-1"}),s[14]||(s[14]=o("span",{class:"nav-name"},"Complains ",-1))]),_:1},8,["href","class"])])):v("",!0)])]),s[15]||(s[15]=o("div",{class:"mt-auto border-t mb-1 p-2 items-center side-bottom"},[o("div",{class:"mx-auto"},[o("img",{src:"/files/images/optimal.png",alt:"Optimal Soft Logo"})])],-1))])])}}},bs=x(cs,[["__scopeId","data-v-e33b0518"]]),vs={class:"h-screen flex"},hs={class:"flex min-h-[90vh] flex-col w-full overflow-x-hidden overflow-y-auto"},ys={class:"flex w-full mx-auto px-6 py-1"},ws={class:"flex flex-col w-full h-full"},xs={__name:"MainLayout",setup(h){return(i,t)=>{const a=M("spinner-loader");return g(),b("div",vs,[e(a),e(bs),o("main",hs,[e(es),o("div",ys,[o("div",ws,[U(i.$slots,"default",{},void 0,!0)])]),e(ls,{class:"mt-auto"})])])}}},Is=x(xs,[["__scopeId","data-v-94c9284e"]]);export{Is as M,R as f};
